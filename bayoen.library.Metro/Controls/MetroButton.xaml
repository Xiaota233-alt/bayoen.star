<Button x:Class="bayoen.library.Metro.Controls.MetroButton"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mtc="http://metro.mahapps.com/winfx/xaml/controls">

    <Button.Style>
        <Style TargetType="{x:Type Button}" BasedOn="{StaticResource SquareButtonStyle}">
            <Setter Property="Margin" Value="0"/>
            <Setter Property="mtc:ButtonHelper.PreserveTextCase" Value="True"/>
        </Style>
    </Button.Style>

    <StackPanel Orientation="Horizontal">
        <Border x:Name="Icon"/>
        <TextBlock x:Name="TextBlock" 
                   Style="{StaticResource MetroTextBlock}"
                   Text="{Binding Text, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Button}}">
        </TextBlock>
    </StackPanel>
</Button>